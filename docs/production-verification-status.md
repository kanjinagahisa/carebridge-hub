# CareBridge Hub — 本番環境動作確認状況

本番URL（https://carebridge-hub.vercel.app）での動作確認状況を記録します。

**確認日時:** 2025年12月9日
**確認者:** （記入してください）

---

## ✅ 確認済み項目

### 1. 基本動作確認

#### ✅ 1-1. 本番URLにアクセスできる
- ✅ ブラウザで `https://carebridge-hub.vercel.app` にアクセス
- ✅ ページが正常に読み込まれる（エラーページが表示されない）
- ✅ URLが `/login` にリダイレクトされる（未ログイン時）

**確認結果:**
- ページは正常に読み込まれ、ログイン画面にリダイレクトされました
- エラーページは表示されませんでした

---

#### ✅ 1-2. ログイン画面が表示される
- ✅ ロゴが正しく表示される
- ✅ 「介護・福祉向け情報共有アプリ」の説明文が表示される
- ✅ メールアドレス入力欄が表示される
- ✅ パスワード入力欄が表示される
- ✅ 「パスワードを表示する」チェックボックスが表示される
- ✅ 「ログイン」ボタンが表示される
- ✅ 「パスワードを忘れた方」リンクが表示される
- ✅ 「新規登録はこちら」リンクが表示される

**確認結果:**
- すべての要素が正しく表示されました
- レイアウトは崩れていませんでした
- ロゴが正しく表示されました

---

#### ✅ 1-3. ブラウザコンソールにエラーがない
- ✅ ブラウザの開発者ツールを開く（F12 または 右クリック → 検証）
- ✅ Console タブを選択
- ✅ エラーメッセージ（赤色）が表示されていないことを確認

**確認結果:**
- コンソールにエラーメッセージは表示されませんでした
- 警告も表示されませんでした

---

### 4. UI要素の確認

#### ✅ 4-1. ロゴ表示
- ✅ ログイン画面にロゴが表示される
- ✅ ロゴが正しく読み込まれている（画像が壊れていない）

**確認結果:**
- ログイン画面にロゴが正しく表示されました
- ロゴの画像は壊れていませんでした

---

#### ✅ 4-3. 利用規約・プライバシーポリシー表示
- ✅ 利用規約（`/terms`）にアクセスできる
- ✅ 利用規約の全文が表示される
- ✅ プライバシーポリシー（`/privacy`）にアクセスできる
- ✅ プライバシーポリシーの全文が表示される

**確認結果:**
- 利用規約ページ（`/terms`）が正常に表示されました
- プライバシーポリシーページ（`/privacy`）が正常に表示されました

---

## 🔄 確認が必要な項目

### 2. 認証機能の確認

#### ⏳ 2-1. ログイン動作
**確認方法:**
1. ログイン画面で、**本番Supabaseに登録済みの**メールアドレスとパスワードを入力
2. 「ログイン」ボタンをクリック
3. ログインが成功することを確認

**必要な情報:**
- 本番Supabaseに登録済みのメールアドレス
- パスワード

**確認手順:**
1. `https://carebridge-hub.vercel.app/login` にアクセス
2. メールアドレスとパスワードを入力
3. 「ログイン」ボタンをクリック
4. ログインが成功することを確認

**期待される結果:**
- ✅ ログインが成功する
- ✅ エラーメッセージが表示されない
- ✅ ログイン後、自動的に `/home` に遷移する

---

#### ⏳ 2-2. ログイン後に /home へ遷移
**確認方法:**
1. ログイン成功後、ブラウザのアドレスバーを確認
2. URLが `/home` になっていることを確認
3. ホーム画面（新着投稿一覧）が表示されることを確認

**確認手順:**
1. ログイン成功後、ブラウザのアドレスバーを確認
2. URLが `https://carebridge-hub.vercel.app/home` になっていることを確認
3. ホーム画面が表示されることを確認

**期待される結果:**
- ✅ URLが `/home` になっている
- ✅ ホーム画面が表示される
- ✅ ログイン状態が維持されている

---

#### ⏳ 2-3. ログアウト動作
**確認方法:**
1. ログイン状態で、ログアウトボタンを探す（通常はメニュー画面やヘッダーにあります）
2. ログアウトボタンをクリック
3. ログイン画面に戻ることを確認

**確認手順:**
1. ログイン後、メニュー画面（`/menu`）にアクセス
2. ログアウトボタンを探す
3. ログアウトボタンをクリック
4. ログイン画面（`/login`）に戻ることを確認

**期待される結果:**
- ✅ ログアウトが正常に動作する
- ✅ ログアウト後、ログイン画面（`/login`）に遷移する
- ✅ ログアウト後、再度ログインしないと `/home` にアクセスできない

---

### 3. 主要機能の確認

#### ⏳ 3-1. ホーム画面（新着投稿）
**確認方法:**
1. ログイン後、`/home` にアクセス
2. 新着投稿の一覧が表示されることを確認
3. ヘッダーに施設名が表示されることを確認

**確認手順:**
1. ログイン後、`https://carebridge-hub.vercel.app/home` にアクセス
2. 新着投稿の一覧が表示されることを確認
3. ヘッダーに施設名が表示されることを確認

**期待される結果:**
- ✅ ホーム画面が正常に表示される
- ✅ 新着投稿が表示される（投稿がある場合）
- ✅ 施設名がヘッダーに表示される

---

#### ⏳ 3-2. 利用者一覧・タイムライン
**確認方法:**
1. ナビゲーションメニューから「利用者」をクリック（または `/clients` に直接アクセス）
2. 利用者一覧が表示されることを確認
3. 利用者を1つクリック
4. 利用者詳細ページが表示されることを確認
5. 「タイムライン」タブをクリック（または `/clients/[id]/timeline` に直接アクセス）
6. タイムラインが表示されることを確認

**確認手順:**
1. ログイン後、`https://carebridge-hub.vercel.app/clients` にアクセス
2. 利用者一覧が表示されることを確認
3. 利用者を1つクリック
4. 利用者詳細ページが表示されることを確認
5. 「タイムライン」タブをクリック
6. タイムラインが表示されることを確認

**期待される結果:**
- ✅ 利用者一覧が正常に表示される
- ✅ 利用者をクリックすると詳細ページに遷移する
- ✅ タイムラインが正常に表示される

---

#### ⏳ 3-3. グループ一覧・タイムライン
**確認方法:**
1. ナビゲーションメニューから「グループ」をクリック（または `/groups` に直接アクセス）
2. グループ一覧が表示されることを確認
3. グループを1つクリック
4. グループタイムラインが表示されることを確認

**確認手順:**
1. ログイン後、`https://carebridge-hub.vercel.app/groups` にアクセス
2. グループ一覧が表示されることを確認
3. グループを1つクリック
4. グループタイムラインが表示されることを確認

**期待される結果:**
- ✅ グループ一覧が正常に表示される
- ✅ グループをクリックするとタイムラインに遷移する
- ✅ グループタイムラインが正常に表示される

---

#### ⏳ 3-4. 施設設定・招待機能
**確認方法:**
1. 管理者アカウントでログイン
2. メニュー画面から「施設設定」をクリック（または `/settings/facility` に直接アクセス）
3. 施設情報が表示されることを確認
4. 「招待」タブをクリック（または `/settings/facility/invite` に直接アクセス）
5. 招待リンクが生成できることを確認

**確認手順:**
1. 管理者アカウントでログイン
2. `https://carebridge-hub.vercel.app/settings/facility` にアクセス
3. 施設情報が表示されることを確認
4. `https://carebridge-hub.vercel.app/settings/facility/invite` にアクセス
5. 招待リンクが生成できることを確認

**期待される結果:**
- ✅ 施設設定画面が正常に表示される（管理者のみ）
- ✅ 施設情報が表示される
- ✅ 招待リンクが生成できる

**注意:**
- 一般ユーザーは施設設定にアクセスできない（403エラーなどが表示される）

---

### 4. UI要素の確認

#### ⏳ 4-2. 施設名表示
**確認方法:**
1. ログイン後、各画面のヘッダーを確認
2. 施設名が表示されることを確認

**確認手順:**
1. ログイン後、ホーム画面（`/home`）のヘッダーを確認
2. メニュー画面（`/menu`）のヘッダーを確認
3. つながり画面（`/connections`）のヘッダーを確認
4. 各画面のヘッダーに施設名が表示されることを確認

**期待される結果:**
- ✅ 各画面のヘッダーに施設名が表示される

---

### 5. メール送信機能の確認（オプション）

#### ⏳ 5-1. パスワード再設定メール
**確認方法:**
1. ログイン画面で「パスワードを忘れた方」をクリック
2. メールアドレスを入力
3. 「送信」ボタンをクリック
4. メールが送信されることを確認（メールボックスを確認）
5. メール内のリンクをクリック
6. パスワード再設定画面に遷移することを確認

**確認手順:**
1. `https://carebridge-hub.vercel.app/auth/forgot-password` にアクセス
2. メールアドレスを入力
3. 「送信する」ボタンをクリック
4. メールボックスを確認
5. パスワード再設定メールが送信されていることを確認
6. メール内のリンクをクリック
7. パスワード再設定画面に遷移することを確認

**期待される結果:**
- ✅ パスワード再設定メールが送信される
- ✅ メール内のリンクが正常に動作する

**注意:**
- メール送信機能を使用するには、Resend の環境変数（`RESEND_API_KEY`、`RESEND_FROM_EMAIL`）が設定されている必要があります

---

#### ⏳ 5-2. パスワード変更完了メール
**確認方法:**
1. パスワード再設定画面で新しいパスワードを設定
2. パスワード変更を完了
3. メールボックスを確認
4. パスワード変更完了メールが送信されることを確認

**確認手順:**
1. パスワード再設定画面で新しいパスワードを設定
2. パスワード変更を完了
3. メールボックスを確認
4. パスワード変更完了メールが送信されていることを確認

**期待される結果:**
- ✅ パスワード変更が正常に完了する
- ✅ パスワード変更完了メールが送信される

---

### 6. スマートフォン対応の確認

#### ⏳ 6-1. iPhone/Androidでの表示確認
**確認方法:**
1. iPhone または Android のブラウザで `https://carebridge-hub.vercel.app` にアクセス
2. 各画面を確認
3. レイアウトが崩れていないか確認
4. フォームの入力が正常に動作するか確認

**確認手順:**
1. iPhone または Android のブラウザで `https://carebridge-hub.vercel.app` にアクセス
2. ログイン画面を確認
3. ログイン後、各画面を確認
4. レイアウトが崩れていないか確認
5. フォームの入力が正常に動作するか確認

**期待される結果:**
- ✅ スマートフォンでレイアウトが崩れていない
- ✅ フォームの入力が正常に動作する
- ✅ ボタンがタップしやすい

**ブラウザの開発者ツールで確認する方法:**
1. デスクトップブラウザで `F12` を押す
2. デバイスツールバー（📱アイコン）をクリック
3. iPhone または Android を選択
4. 画面サイズを調整して確認

---

## 📝 確認結果の記録

各項目を確認したら、チェックボックスに ✅ を付けて、確認日時と確認者を記録してください。

---

## 🐛 問題が発生した場合

問題が発生した場合は、以下を確認してください：

1. **Vercel の環境変数設定**
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`

2. **Supabase 本番プロジェクトの設定**
   - データベーススキーマが適用されているか
   - RLS（Row Level Security）ポリシーが設定されているか
   - ユーザーが登録されているか

3. **ブラウザのコンソールエラー**
   - エラーメッセージの内容を確認
   - `docs/deployment-vercel.md` の「トラブルシューティング」セクションを参照

4. **Vercel のデプロイログ**
   - Vercel ダッシュボードの「Deployments」タブで、最新のデプロイログを確認
   - Build エラーがないか確認










