# CareBridge Hub — 本番環境動作確認（ステップバイステップガイド）

本番URL（https://carebridge-hub.vercel.app）での動作確認を、一つずつ手順を追って確認していきます。

---

## ✅ ステップ1: ログイン機能の確認

### 1-1. ログイン画面にアクセス
1. ブラウザで `https://carebridge-hub.vercel.app` にアクセス
2. ログイン画面が表示されることを確認

**確認ポイント:**
- ✅ ロゴが表示される
- ✅ メールアドレス入力欄が表示される
- ✅ パスワード入力欄が表示される
- ✅ 「ログイン」ボタンが表示される

### 1-2. ログインを実行
1. メールアドレス: `kanjinagatomi99@gmail.com` を入力
2. パスワードを入力
3. 「ログイン」ボタンをクリック

**期待される結果:**
- ✅ ログインが成功する
- ✅ エラーメッセージが表示されない
- ✅ 自動的に `/home` に遷移する

### 1-3. ログイン後の確認
1. ブラウザのアドレスバーを確認
2. URLが `https://carebridge-hub.vercel.app/home` になっていることを確認
3. ホーム画面が表示されることを確認

**確認ポイント:**
- ✅ URLが `/home` になっている
- ✅ ホーム画面が表示される
- ✅ ヘッダーに施設名が表示される（施設に所属している場合）

---

## ✅ ステップ2: ホーム画面の確認

### 2-1. ホーム画面の基本要素
1. ログイン後、ホーム画面（`/home`）が表示されることを確認

**確認ポイント:**
- ✅ ヘッダーに「ホーム」というタイトルが表示される
- ✅ ヘッダーに施設名が表示される（施設に所属している場合）
- ✅ ヘッダーにユーザーアイコン（👤）が表示される
- ✅ 「お知らせ」セクションが表示される
- ✅ 「未読」ボタンが表示される
- ✅ 「しおり」ボタンが表示される
- ✅ 「新着投稿」セクションが表示される（投稿がある場合）

### 2-2. 新着投稿の表示
1. 新着投稿が表示されることを確認（投稿がある場合）
2. 投稿がない場合は「まだ投稿がありません。」と表示されることを確認

**確認ポイント:**
- ✅ 新着投稿が正しく表示される（投稿がある場合）
- ✅ 投稿がない場合のメッセージが表示される

---

## ✅ ステップ3: 利用者一覧・タイムラインの確認

### 3-1. 利用者一覧にアクセス
1. ナビゲーションメニューから「利用者」をクリック
   - または、直接 `https://carebridge-hub.vercel.app/clients` にアクセス

**確認ポイント:**
- ✅ 利用者一覧が表示される
- ✅ 利用者リストが正しく表示される（利用者が登録されている場合）
- ✅ 利用者がいない場合は適切なメッセージが表示される

### 3-2. 利用者詳細ページにアクセス
1. 利用者一覧から利用者を1つクリック
2. 利用者詳細ページが表示されることを確認

**確認ポイント:**
- ✅ 利用者詳細ページが表示される
- ✅ 利用者の基本情報が表示される
- ✅ 利用者のタイムラインにアクセスできる

### 3-3. 利用者タイムラインの確認
1. 利用者詳細ページから「タイムライン」タブをクリック
   - または、直接 `https://carebridge-hub.vercel.app/clients/[id]/timeline` にアクセス

**確認ポイント:**
- ✅ タイムラインが表示される
- ✅ 投稿が表示される（投稿がある場合）
- ✅ 投稿がない場合は適切なメッセージが表示される

---

## ✅ ステップ4: グループ一覧・タイムラインの確認

### 4-1. グループ一覧にアクセス
1. ナビゲーションメニューから「グループ」をクリック
   - または、直接 `https://carebridge-hub.vercel.app/groups` にアクセス

**確認ポイント:**
- ✅ グループ一覧が表示される
- ✅ グループリストが正しく表示される（グループが登録されている場合）
- ✅ グループがない場合は適切なメッセージが表示される

### 4-2. グループタイムラインの確認
1. グループ一覧からグループを1つクリック
2. グループタイムラインが表示されることを確認

**確認ポイント:**
- ✅ グループタイムラインが表示される
- ✅ 投稿が表示される（投稿がある場合）
- ✅ 投稿がない場合は適切なメッセージが表示される

---

## ✅ ステップ5: 施設設定・招待機能の確認（管理者のみ）

### 5-1. 施設設定にアクセス
1. 管理者アカウントでログイン
2. メニュー画面（`/menu`）から「施設設定」をクリック
   - または、直接 `https://carebridge-hub.vercel.app/settings/facility` にアクセス

**確認ポイント:**
- ✅ 施設設定画面が表示される（管理者のみ）
- ✅ 施設情報が表示される
- ✅ 施設情報を編集できる（管理者のみ）

**注意:**
- 一般ユーザーは施設設定にアクセスできない（403エラーなどが表示される）

### 5-2. 招待機能の確認
1. 施設設定画面から「招待」タブをクリック
   - または、直接 `https://carebridge-hub.vercel.app/settings/facility/invite` にアクセス

**確認ポイント:**
- ✅ 招待画面が表示される
- ✅ 招待リンクが生成できる
- ✅ 招待リンクが正しく表示される

---

## ✅ ステップ6: ログアウト機能の確認

### 6-1. ログアウトボタンの確認
1. メニュー画面（`/menu`）にアクセス
2. ログアウトボタンが表示されることを確認

**確認ポイント:**
- ✅ ログアウトボタンが表示される
- ✅ ログアウトボタンをクリックできる

### 6-2. ログアウトの実行
1. ログアウトボタンをクリック
2. ログイン画面に戻ることを確認

**確認ポイント:**
- ✅ ログアウトが正常に動作する
- ✅ ログアウト後、ログイン画面（`/login`）に遷移する
- ✅ ログアウト後、再度ログインしないと `/home` にアクセスできない

---

## ✅ ステップ7: UI要素の確認

### 7-1. ロゴ表示の確認
1. ログイン画面でロゴが表示されることを確認
2. ログイン後、ヘッダーにロゴが表示されることを確認（施設名がない場合）

**確認ポイント:**
- ✅ ロゴが正しく表示される
- ✅ ロゴの画像が壊れていない

### 7-2. 施設名表示の確認
1. ログイン後、各画面のヘッダーを確認
2. 施設名が表示されることを確認

**確認ポイント:**
- ✅ ホーム画面のヘッダーに施設名が表示される
- ✅ メニュー画面のヘッダーに施設名が表示される
- ✅ つながり画面のヘッダーに施設名が表示される

### 7-3. 利用規約・プライバシーポリシーの確認
1. `https://carebridge-hub.vercel.app/terms` にアクセス
2. 利用規約が表示されることを確認
3. `https://carebridge-hub.vercel.app/privacy` にアクセス
4. プライバシーポリシーが表示されることを確認

**確認ポイント:**
- ✅ 利用規約が正常に表示される
- ✅ プライバシーポリシーが正常に表示される

---

## ✅ ステップ8: メール送信機能の確認（オプション）

### 8-1. パスワード再設定メールの確認
1. ログイン画面で「パスワードを忘れた方」をクリック
2. メールアドレスを入力
3. 「送信する」ボタンをクリック
4. メールボックスを確認
5. パスワード再設定メールが送信されていることを確認

**確認ポイント:**
- ✅ パスワード再設定メールが送信される
- ✅ メール内のリンクが正常に動作する

**注意:**
- メール送信機能を使用するには、Resend の環境変数（`RESEND_API_KEY`、`RESEND_FROM_EMAIL`）が設定されている必要があります

### 8-2. パスワード変更完了メールの確認
1. パスワード再設定画面で新しいパスワードを設定
2. パスワード変更を完了
3. メールボックスを確認
4. パスワード変更完了メールが送信されていることを確認

**確認ポイント:**
- ✅ パスワード変更が正常に完了する
- ✅ パスワード変更完了メールが送信される

---

## ✅ ステップ9: スマートフォン対応の確認

### 9-1. iPhone/Androidでの表示確認
1. iPhone または Android のブラウザで `https://carebridge-hub.vercel.app` にアクセス
2. 各画面を確認
3. レイアウトが崩れていないか確認

**確認ポイント:**
- ✅ スマートフォンでレイアウトが崩れていない
- ✅ フォームの入力が正常に動作する
- ✅ ボタンがタップしやすい

**ブラウザの開発者ツールで確認する方法:**
1. デスクトップブラウザで `F12` を押す
2. デバイスツールバー（📱アイコン）をクリック
3. iPhone または Android を選択
4. 画面サイズを調整して確認

---

## 📝 確認結果の記録

各ステップを確認したら、チェックボックスに ✅ を付けて、確認日時と確認者を記録してください。

**確認日時:** _______________
**確認者:** _______________

---

## 🐛 問題が発生した場合

問題が発生した場合は、以下を確認してください：

1. **Vercel の環境変数設定**
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`

2. **Supabase 本番プロジェクトの設定**
   - データベーススキーマが適用されているか
   - RLS（Row Level Security）ポリシーが設定されているか
   - ユーザーが登録されているか

3. **ブラウザのコンソールエラー**
   - エラーメッセージの内容を確認
   - `docs/deployment-vercel.md` の「トラブルシューティング」セクションを参照

4. **Vercel のデプロイログ**
   - Vercel ダッシュボードの「Deployments」タブで、最新のデプロイログを確認
   - Build エラーがないか確認









